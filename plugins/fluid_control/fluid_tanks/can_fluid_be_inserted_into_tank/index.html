<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
    <title>Get Fluid From Block - Semper Modding</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/web/css/procedure.css">
    <script type="module" src="/web/js/elements.js"></script>
    <script src="/web/js/search.js"></script>
  </head>
  <body>
    <div class="taskbar">
      <a href="/plugins/">
        <img src="/resources/main/home.png">
      </a>
      <a href="javascript:history.back()">
        <img src="/resources/main/back.png">
      </a>
      <p>Plugins/Fluid Control/Can Fluid be inserted into Tank</p>
    </div>
    <header>
      <img src="/resources/plugin/fluid_control/logo.png">
      <h>Can Fluid can be inserted into Tank</h>
    </header>
    <main>
      <div class="procedure">
        <img src="/resources/plugin/fluid_control/fluid_tanks/can_fluid_be_inserted_into_tank.png"> 
      </div>
      
      <info-box title="Generell">
        <div class="values">Checks if the fluid can be inserted into the tank of a block at a position at X Y Z.</div>
        <div class="values">Note: The Code only checks if the specified fluid is a whitelisted fluid, which is true for almost all fluid tanks. The code does not check for the Amount of Fluid in the tank or if the tank even has a fluid.</div>
      </info-box>

      <info-box title="Code">
<pre>
<span class="java">new</span> <span class="method">Object</span><span class="vsc1">() {</span>
    <span class="key">public</span> <span class="type">boolean</span> <span class="method">isFluidValid</span><span class="vsc2">(</span><span class="type">LevelAccessor</span> <span class="var">level</span>, <span class="type">BlocksPos</span> <span class="var">pos</span>, <span class="type">FluidStack</span> <span class="var">stack</span><span class="vsc2">) {</span>
        <span class="java">if</span> <span class="vsc3">(</span><span class="var">level</span> <span class="key">instanceof</span> <span class="type">ILevelExtension</span> <span class="var">_ext</span><span class="vsc3">) {</span>
            <span class="type">IFluidHandler</span> <span class="var">_fluidhandler</span> = <span class="var">_ext</span>.<span class="method">getCapability</span><span class="vsc1">(</span><span class="var">Capabilities</span>.<span class="var">FluidHandler</span>.<span class="var">BLOCK</span>, <span class="var">pos</span>, <span class="key">null</span><span class="vsc1">)</span>;
            <span class="java">if</span> <span class="vsc1">(</span><span class="var">_fluidhandler</span> != <span class="key">null</span><span class="vsc1">) {</span>
                <span class="java">return</span> <span class="var">_fluidhandler</span>.<span class="method">isFluidValid</span><span class="vsc2">(</span><span class="code">0</span>, <span class="var">stack</span><span class="vsc2">)</span>;
            <span class="vsc1">}</span>
        <span class="vsc3">}</span>
        <span class="java">return</span> <span class="key">false</span>;
    <span class="vsc2">}</span>
<span class="vsc1">}</span>.<span class="method">isFluidValid</span><span class="vsc1">(</span><span class="var">world</span>, <span class="var">BlockPos</span>.<span class="method">containing</span><span class="vsc2">(</span><span class="code">${input$x}</span>,<span class="code">${input$y}</span>,<span class="code">${input$z}</span><span class="vsc2">)</span>, <span class="code">${input$FluidStack}</span><span class="vsc1">)</span>
</pre>
      </info-box>

      <info-box title="Values">
        <div class="values"><span class="code">${input$x}</span> = X-Position of the Block</div>
        <div class="values"><span class="code">${input$y}</span> = Y-Position of the Block</div>
        <div class="values"><span class="code">${input$z}</span> = Z-Position of the Block</div>
        <div class="values"><span class="code">${input$FluidStack}</span> = Fluid to check if insertion is valid</div>
        <div class="values">Return <span class="code">Boolean</span></div>        
      </info-box>
    </main>
  </body>
</html>